# 麻雀 点数計算トレーニングアプリ 要件定義

## 1. 目的
既存の点数計算アプリでは、実戦（特にネット麻雀）と異なる情報提示形式により、認知負荷や見落としが発生しやすい。本アプリでは、雀魂に近い卓UIと進行形式を用い、実戦に近い形で点数計算を練習できる環境を提供する。

### 想定ターゲット
- 点数計算を覚えたい初心者
- ネット麻雀をプレイしており、リアル麻雀デビューを考えているが点数計算に不安がある人

---

## 2. プラットフォーム
- Webアプリケーション
- PC / スマートフォン両対応（レスポンシブ）
- ファーストローンチはログイン不要
- スマートフォンは横向き（ランドスケープ）での利用を前提とする
  - 縦向きの場合は、横向き利用を促す案内表示を行う

---

## 3. ルール

### 3.1 ルールセット
以下の2種類から選択可能とする。

- Mリーグルール
- 雀魂ルール

#### 対応範囲（MVP）
- 点数計算結果に影響する差分のみ対応
  - 赤ドラ
  - 喰いタン
  - 裏ドラ
  - 切り上げ満貫
  - ダブロン / 頭ハネ
  - 符計算ルールの細かな流派差
- UI・演出の差分は設けない

※ 上記以外の細かな運用差・表記差については、本アプリでは差分を設けない。

---

## 4. 難易度設計

### 4.1 難易度設計の考え方
以下を独立した設定軸として扱う。

- ルール（Mリーグ / 雀魂）
- 難易度（出題傾向）
- 回答方式（入力方法）

※ 本要件における「難易度」とは、問題の出題傾向・含める計算要素の範囲を指し、UI操作や入力難度を意味するものではない。

### 4.2 初期難易度（デフォルト）: 実用重視モード
- 目的: 雀荘で困らない点数計算力の習得
- 出題傾向
  - 20〜50符中心
  - 満貫以上（満貫 / 跳満 / 倍満 など）も含む
- 本場・供託: 含めない
- 頻出役中心
  - リーチ、ピンフ、タンヤオ、役牌、一発、ドラ、裏ドラ など

### 4.3 拡張難易度: 実戦モード
- 本場・供託を点数計算に含める

### 4.4 拡張難易度: 網羅モード
- 高符（70符、90符、100符など）を積極的に出題
- 実戦頻度は考慮しない

---

## 5. 回答方式

### 5.1 回答方式の種類

#### 1. テキスト入力（デフォルト）
- ロン: 点数入力欄1つ
- ツモ:
  - 親の支払い入力欄
  - 子の支払い入力欄

#### 2. 選択肢式
- 難易度を下げたいユーザー向け
- 候補数は固定で6択
  - ロン: 点数6択
  - ツモ: 親+子の支払いペアが6択

---

## 6. 出題仕様

### 6.1 出題開始状態
- 自分はリーチまたは面前テンパイ状態
- 自分の手牌はテンパイ時点で常に表示
- 相手の手牌は表示しない

### 6.2 進行
- 数巡（2〜6巡程度）の演出後に和了イベントが発生
- 演出はスキップ可能

### 6.3 ファーストローンチに含める内容
- 待ちは固定（変化しない）
- 和了牌によって翻数・点数が変わるケースは含める
- 最初からカンを含むテンパイは可

### 6.4 次回以降の拡張
- ツモ牌による待ち変化
- 手替わり（赤ドラ化、ドラ取り込み、良型変化）
- テンパイ後のカン、嶺上開花

---

## 7. 卓UI要件
- 雀魂に近い情報配置を意識した独自UI
- 表示要素
  - 場風・局数
  - 親表示（マーク）
  - ドラ表示牌
  - 自分の手牌
  - 河（4人分）
  - 点数表示（4人分）

※ 雀魂の画像・素材は使用せず、配置思想のみ踏襲する

---

## 8. 問題数
- 動作確認: 20問
- 初回リリース: 100問

※ 問題数の内訳（ルール別・難易度別配分）は実装フェーズで別途検討する。

---

## 9. 著作権・素材方針
- 牌素材は Public Domain もしくはライセンス明確なものを使用
- UI素材は自作
- 特定サービスの素材流用・強い模倣は行わない

---

## 10. 将来拡張（想定）
- ログイン機能・成績管理
- 問題自動生成
- 3人麻雀対応
- 詳細な成績分析

## 11. マネタイズ / 課金境界

まずは全て無料で実装するが、後々マネタイズを考慮したサービスへと変更する。

### 11.1 マネタイズ方針
本アプリは **Webアプリにおける買い切り型（フリーミアム）モデル**を採用する。

- 広告は表示しない
- ユーザーが価値を体験した後に、任意で購入する形とする
- 課金は学習体験の妨げにならないタイミングでのみ提示する

---

### 11.2 利用状態の区分
ユーザーの利用状態を以下の3段階に分ける。

| 状態 | 説明 |
|---|---|
| 未ログイン | 体験利用段階 |
| ログイン済（無料） | 無料利用者 |
| 購入済 | 買い切り購入済ユーザー |

---

### 11.3 利用状態ごとの利用可能範囲

#### 未ログイン
- 利用可能
  - 無料問題（最大10問）
  - 実用重視モード
- 制限事項
  - 成績の永続保存なし
  - 問題数・難易度は限定
- 目的
  - アプリの価値を短時間で体験させる

#### ログイン済（無料）
- 利用可能
  - 無料問題（最大20問）
  - 実用重視モード
  - 成績の保存
- 制限事項
  - 実戦モード、網羅モードは利用不可
  - 有料問題（100問構成）は利用不可
- 目的
  - 学習継続の価値を提供し、購入判断を促す

#### 購入済（買い切り）
- 利用可能
  - 全問題（100問以上）
  - 全難易度・全モード
    - 実戦モード（本場・供託あり）
    - 網羅モード（高符・レアケース）
  - 回答方式の切替（テキスト入力 / 選択肢式）
  - 成績分析・復習機能
- 制限事項
  - なし

---

### 11.4 課金対象
- 課金形態：**買い切り（1回払い）**
- 想定価格帯：¥800〜¥1,200（最終価格は別途決定）

---

### 11.5 課金導線設計方針
- 以下のタイミングでのみ課金導線を表示する
  - 無料問題完了時
  - ロックされたモード・問題にアクセスした際
  - 成績・分析画面表示時
- 出題中・回答中には課金導線を表示しない

---

### 11.6 認証・購入状態管理
- ログインは外部認証を利用（例：Google / Apple / メールリンク）
- 購入状態はユーザーアカウントに紐づけて管理する
- 同一アカウントでの端末変更・再利用を可能とする

---

### 11.7 将来拡張
- 問題パック追加などの追加コンテンツ販売
- 法人・教育用途向けライセンス
- サブスクリプション型への拡張（必要に応じて検討）
