## result画面 最低限UI仕様（MVP）

### 1. 画面目的

- ユーザー回答の正誤を即時に提示する
- 正解点数を「ロン/ツモ形式に合わせて」明確に表示する
- 翻数・符数・役一覧を提示し、学習に繋げる
- 次の問題へスムーズに遷移させ、反復学習を促す

---

### 2. 前提

- 画面向き：横持ち（ランドスケープ）前提
- 遷移元：practice画面
- データ受け渡し：sessionStorage（例：`lastResult`）
    - result画面表示時に読み込み、読み込み後は削除してよい
- 成績保存：MVPでは localStorage に保存（ログイン/外部送信なし）

---

### 3. 画面レイアウト（領域分割）

横画面を以下の2領域に分割する（比率は目安）。

- **A. 結果サマリエリア（左：45%）**
- **B. 解説エリア（右：55%）**

> 目的：正誤と正解を最優先で認知させ、次に学習（解説）へ誘導する
> 

---

### 4. A. 結果サマリエリア（左）

### 4.1 必須表示（最上部）

- **正誤表示（大）**
    - 正解：✅ 正解 / 不正解：❌ 不正解
    - 背景色などで視認しやすくする（MVPはテキスト強調でも可）
- **和了種別**
    - ロン / ツモ

### 4.2 ユーザー回答の表示

- ロン
    - 「あなたの回答：XXXX点」
- ツモ
    - 「あなたの回答：親 XXXX / 子 YYYY」
    - 入力欄が2つであることに合わせた表示とする

### 4.3 正解点数の表示（最重要）

- ロン
    - 「正解：XXXX点」
- ツモ
    - 「正解：親 XXXX / 子 YYYY」
- 親ツモの場合でも形式は統一
    - 例：「正解：親 2000 / 子 2000」（もしくは「2000オール」を併記してもよい）

### 4.4 速度情報（任意だが推奨）

- 「回答時間：X.XX秒」

---

### 5. B. 解説エリア（右）

### 5.1 翻・符（必須）

- 翻数（例：4翻）
- 符数（例：30符）
- ※ MVPでは符内訳は不要（将来拡張）

### 5.2 役一覧（必須）

- 役名のリスト表示（例：リーチ / ツモ / ドラ1 / 裏ドラ1）
- ドラ・裏ドラは役一覧内に含めてよい

### 5.3 状況の再提示（推奨）

- 親子（自分が親か）
- 場風 / 自風
- ドラ表示牌
- （必要なら）和了牌
- 目的：点数の前提条件を明確にする

### 5.4 自分の手牌の再掲（任意）

- 学習効果を高めるため、テンパイ時の手牌を小さめに再表示してもよい
- MVPでは省略可能（実装負荷と相談）

---

### 6. 行動導線（フッター：必須）

以下のボタンを配置する（優先度順）。

1. **次の問題へ**
- primary ボタン
- クリックで practice へ遷移し次問を開始
1. **同じ問題をもう一度**
- secondary ボタン（任意だが推奨）
- 目的：誤答時の即復習
- 次問と異なり「同一problemId」で practice を開始する
1. **ホームへ戻る**
- tertiary ボタン

---

### 7. エラーハンドリング（最低限）

- sessionStorage に `lastResult` が無い／壊れている場合
    - 「結果が見つかりません。もう一度問題を開始してください。」を表示
    - 「ホームへ戻る」ボタンを提示
- 正解データが欠損している場合
    - 「正解データが不正です（problemId: XXXX）」のように問題特定できる文言を表示（開発向け）

---

### 8. 保存・記録（MVP）

- result画面表示時に、attempt（回答ログ）を localStorage に保存する
- 保存内容（最低限）
    - problemId
    - winType
    - 回答値（ロン or ツモ親/子）
    - isCorrect
    - elapsedMs
    - createdAt

---

### 9. MVPで省略してよい要素

- 詳細な符内訳（刻子/雀頭/待ち/ツモ符など）
- 点数計算過程のステップ表示
- SNS共有
- 画像付きリッチ演出（フェード等の簡易演出で十分）

---

### 10. 画面遷移の補足（推奨実装）

- result表示時：
    - `lastResult` を読み込み → 表示
    - 読み込み後、`lastResult` を削除してよい
- 「同じ問題をもう一度」：
    - URLクエリに `?problemId=p0001` を付与する等、再出題できる導線を用意（方式は任意）